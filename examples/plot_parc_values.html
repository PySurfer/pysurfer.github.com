

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PySurfer Python Neuroimaging Visualization &mdash; PySurfer 0.4 documentation</title>
    
    <link rel="stylesheet" href="../_static/navy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="PySurfer 0.4 documentation" href="../index.html" />
    <link rel="up" title="Examples" href="index.html" />
    <link rel="next" title="Using Annotation Files" href="plot_parcellation.html" />
    <link rel="prev" title="Overlay Morphometry Data" href="plot_morphometry.html" /> 
  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="../index.html">
  <img src="../_static/banner.png" alt="PySurfer logo"  border="0" />
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="plot_parcellation.html" title="Using Annotation Files"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="plot_morphometry.html" title="Overlay Morphometry Data"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PySurfer 0.4 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Examples</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="plot_morphometry.html"
                        title="previous chapter">Overlay Morphometry Data</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plot_parcellation.html"
                        title="next chapter">Using Annotation Files</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="display-roi-values">
<span id="example-plot-parc-values-py"></span><h1>Display ROI Values<a class="headerlink" href="#display-roi-values" title="Permalink to this headline">Â¶</a></h1>
<p>Here we demonstrate how to take the results of an ROI analysis
performed within each region of some parcellation and display
those values on the surface to quickly summarize the analysis.</p>
<img alt="../_images/plot_parc_values.png" class="align-center" src="../_images/plot_parc_values.png" />
<p><strong>Python source code:</strong> <a class="reference download internal" href="../_downloads/plot_parc_values.py"><tt class="xref download docutils literal"><span class="pre">plot_parc_values.py</span></tt></a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">__doc__</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">os.path</span> <span class="kn">as</span> <span class="nn">op</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">nibabel</span> <span class="kn">as</span> <span class="nn">nib</span>
<span class="kn">from</span> <span class="nn">surfer</span> <span class="kn">import</span> <span class="n">Brain</span>

<span class="n">subject_id</span> <span class="o">=</span> <span class="s">&quot;fsaverage&quot;</span>
<span class="n">hemi</span> <span class="o">=</span> <span class="s">&quot;lh&quot;</span>
<span class="n">surface</span> <span class="o">=</span> <span class="s">&quot;inflated&quot;</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Bring up the visualization</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">brain</span> <span class="o">=</span> <span class="n">Brain</span><span class="p">(</span><span class="n">subject_id</span><span class="p">,</span> <span class="n">hemi</span><span class="p">,</span> <span class="n">surface</span><span class="p">,</span>
              <span class="n">config_opts</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="s">&quot;lightslategray&quot;</span><span class="p">,</span>
                               <span class="n">cortex</span><span class="o">=</span><span class="s">&quot;high_contrast&quot;</span><span class="p">))</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Read in the aparc annotation file</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">aparc_file</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&quot;SUBJECTS_DIR&quot;</span><span class="p">],</span>
                     <span class="n">subject_id</span><span class="p">,</span> <span class="s">&quot;label&quot;</span><span class="p">,</span>
                     <span class="n">hemi</span> <span class="o">+</span> <span class="s">&quot;.aparc.a2009s.annot&quot;</span><span class="p">)</span>
<span class="n">labels</span><span class="p">,</span> <span class="n">ctab</span><span class="p">,</span> <span class="n">names</span> <span class="o">=</span> <span class="n">nib</span><span class="o">.</span><span class="n">freesurfer</span><span class="o">.</span><span class="n">read_annot</span><span class="p">(</span><span class="n">aparc_file</span><span class="p">)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Make a random vector of scalar data corresponding to</span>
<span class="sd">a value for each region in the parcellation.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">roi_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Make a vector containing the data point at each vertex.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">vtx_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">roi_data</span><span class="p">):</span>
    <span class="n">vtx_data</span><span class="p">[</span><span class="n">labels</span> <span class="o">==</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Display these values on the brain.</span>
<span class="sd">Use the hot colormap and add an alpha channel</span>
<span class="sd">so the underlying anatomy is visible.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">brain</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span><span class="n">vtx_data</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s">&quot;hot&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="plot_parcellation.html" title="Using Annotation Files"
             >next</a></li>
        <li class="right" >
          <a href="plot_morphometry.html" title="Overlay Morphometry Data"
             >previous</a> |</li>
        <li><a href="../index.html">PySurfer 0.4 documentation</a> &raquo;</li>
          <li><a href="index.html" >Examples</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2013, Michael Waskom, Alexandre Gramfort, Scott Burns, Martin Luessi, Eric Larson.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>